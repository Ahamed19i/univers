


{% extends "base.html" %}
{% load static %}
{% block content %}
  <div class="container mt-5">
    <header class="my-4">
      <h2 class="text-center">Mes absences</h2>
    </header>
    <table class="table table-hover table-bordered">
      <tr>
        <th>Cours</th>
        <th>Date</th>
        <th>Justifiée</th>
        <th>Statut de la justification</th>
        <th>Actions</th>
      </tr>
      {% for absence in absences_list %}
        <tr>
          <td>{{ absence.cours.nom_cours }}</td>
          <td>{{ absence.date }}</td>
          <td>{{ absence.justifiee }}</td>
          <td>
            {% if absence.justifier.exists %}
              <div>
                <strong>Statut :</strong> <span class="badge badge-warning">{{ absence.justifier.last.statut }}</span>
              </div>
            {% else %}
              <span class="badge badge-secondary">Non justifiée</span>
              
            {% endif %}
          </td>
          <td>
            {% if not absence.justifier.exists %}
              <a href="{% url 'justifier_absence' absence.id %}" class="btn btn-warning btn-sm"> Ma justification</a>
            {% endif %}
          </td>
        </tr>
      {% endfor %}
    </table>
  </div>
  
  
{% endblock %}





















{% comment %}
  

  


{% extends "base.html" %}

{% block content %}
  <h1>Mes Absences</h1>
  <table>
    <thead>
      <tr>
        <th>Date</th>
        <th>Cours</th>
        <th>Justifiée</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      {% for absence in absences_list %}
        <tr>
          <td>{{ absence.date }}</td>
          <td>{{ absence.cours.nom_cours }}</td>
          <td>{{ absence.justifiee }}</td>
          <td>
            {% if not absence.justifier.exists %}
              <a href="{% url 'justifier_absence' absence.id %}">Justifier</a>
            {% else %}
              Justifiée
            {% endif %}
          </td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock %}


{% endcomment %}